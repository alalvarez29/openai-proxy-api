# REST API Integration with OpenAI

This project implements a **RESTful API in Python using FastAPI**, acting as a middleware between a user question and the OpenRouter API (compatible with OpenAI models). It returns a processed response from a language model, with proper error handling and autogenerated Swagger documentation.

## Disclaimer

> This project uses [OpenRouter](https://openrouter.ai/) as an intermediary to access language models such as GPT-3.5 and GPT-4.  
> OpenRouter allows interaction with multiple model providers (including OpenAI, Anthropic, Mistral, and others) through a unified API.  
> **This project does not use OpenAI’s official API directly**, but instead delegates calls to OpenRouter for availability, experimentation, and integration convenience during development.

## Contents

- [Objective](#objective)
- [Dependencies](#dependencies)
- [Project Structure](#project-structure)
- [How to Reproduce This Project](#how-to-reproduce-this-project)
- [Testing the API](#testing-the-api)

## Objective

Provide an accessible API that:

- Accepts a user question via POST
- Forwards the question to the OpenRouter API
- Returns the model's response
- Includes API key validation, error handling, and autogenerated docs

## Dependencies

- Python 3.12+
- [FastAPI](https://fastapi.tiangolo.com/)
- [HTTPX](https://www.python-httpx.org/)
- [Uvicorn](https://www.uvicorn.org/)
- [python-dotenv](https://pypi.org/project/python-dotenv/)


## Project Structure
```
├── main.py # Main API logic
├── .env # Environment variables
├── requirements.txt # Project dependencies
└── README.md # Project documentation
```
## How to Reproduce This Project

Follow these steps to install and run the API locally.

### 1. Clone the repository

```bash
git clone https://github.com/alalvarez29/openai-proxy-api
cd openai-proxy-api
```
### 2. Create a virtual environment

```bash
python -m venv venv
source venv/bin/activate     # Linux/macOS
venv\Scripts\activate        # Windows
```

### 3. Install the required dependencies

```bash
pip install -r requirements.txt
```

### 4. Generate your OpenRouter API key

- Get into `https://openrouter.ai/`

- Sign up using your email or an existing account (Google, GitHub, etc.) 

- Log in and go to your Dashboard

- Find the Keys section

- Click “Create API Key”

- Name your API key (optional) and generate it.

- Copy and securely save the API key.

### 4. Create a .env file with your OpenRouter API key

```bash
echo "OPENROUTER_API_KEY=your_api_key_here" > .env
```

### 5. Run the FastAPI server

```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

## Testing the API

Option A: Test the API implementation using `Swagger UI`

### 1. Open your browser at `http://localhost:8000/docs`

### 2. Click on `/ask`

### 3. Click  `Try it out`

### 4. Enter a question and your API key

### 5. Execute the request and see the response

Option B: Test the API implementation using `curl`

```bash
curl -X POST http://localhost:8000/ask \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your_api_key_here" \
  -d '{"question": "What is the capital of France?"}'
```

